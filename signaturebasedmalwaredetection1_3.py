#!/usr/bin/env python3
# Script: Ops 401 Class 31 Signature-based Malware Detection Part 1 of 3
# Author: Zachary Derrick                    
# Date of latest revision:  11/14/22    
# Purpose: Begin development of our own basic antivirus tool in Python.
import subprocess
from sys import platform

def get_filename():
    file_name = input("Enter a file name: ") or "welcome.txt"
    return file_name
def get_pathW():
    windows_path = input("Enter path to file: ")
    return windows_path
def get_pathL():
    linux_path =  input("Enter path to file: ") or "/home/zaxxon/"
    return linux_path

if __name__ == '__main__':

    if platform == "linux" or platform == "linux2":
        file_name = get_filename()
        linux_path =  get_pathL()
        cmd = ["find", linux_path,"-name", file_name] 
        count = subprocess.Popen("ls " + str(linux_path) + " | echo \" $(wc -l) files were searched in this process.\"", shell=True)
        subprocess.run(cmd)
    elif platform == "darwin":
        print("This script is not written for MacOS")
    elif platform == "win32":
        file_name = get_filename()
        win_path =  get_pathW()
        cmd = [f"dir /S /P {win_path}\{file_name}"] 
        count = subprocess.Popen("dir " + str(win_path) + " | echo \" $(wc -l) files were searched in this process.\"", shell=True)
        subprocess.run(cmd)

